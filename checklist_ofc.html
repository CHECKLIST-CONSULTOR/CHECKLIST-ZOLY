<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist de Processos Implantados</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #007bff;
            color: white;
            text-align: center;
            padding: 15px 0;
        }

        h2 {
            color: #333;
            text-align: center;
            margin-top: 20px;
        }

        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }

        /* NOVA ÁREA DE DADOS DO CLIENTE */
        .dados-cliente {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 25px;
            text-align: left;
        }

        .dados-cliente label {
            font-weight: bold;
            color: #333;
        }

        .dados-cliente input {
            width: 100%;
            padding: 6px;
            border: 1px solid #aaa;
            border-radius: 4px;
        }

        .checklist {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .checklist-item p {
            width: 40%;
            margin: 0;
            font-weight: bold;
        }

        .checklist-item label {
            margin-right: 15px;
        }

        .signature {
            margin-top: 30px;
        }

        .signature canvas {
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 100%;
            height: 150px;
        }

        .button-group {
            text-align: center;
            margin-top: 20px;
        }

        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #0056b3;
        }

        a {
            display: inline-block;
            margin-top: 15px;
            text-decoration: none;
            color: #007bff;
        }

        a:hover {
            text-decoration: underline;
        }

        /* GARANTIR QUE CAMPOS APAREÇAM NA IMPRESSÃO */
        @media print {
            input {
                border: 1px solid #000 !important;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Checklist de Processos Implantados Oficina</h1>
    </header>

    <div class="container">
        <h2>Checklist de Processos Oficina</h2>

        <!-- CAMPOS TEXTO ADICIONADOS -->
       <div class="dados-cliente">
    <div class="linha">
        <label>Cliente:<br>
            <input type="text" id="cliente" placeholder="Nome do cliente" oninput="this.value = this.value.toUpperCase()">
        </label>

        <label>CNPJ:<br>
            <input type="text" id="cnpj" placeholder="00.000.000/0000-00" oninput="formatarCNPJ(this)">
        </label>
    </div>

    <div class="linha">
        <label>Loja:<br>
            <input type="text" id="loja" placeholder="Loja" oninput="this.value = this.value.toUpperCase()">
        </label>

        <label>Ponto Focal:<br>
            <input type="text" id="ponto" placeholder="Ponto Focal" oninput="this.value = this.value.toUpperCase()">
        </label>
    </div>

    <div class="linha">
        <label>Consultor(a) Dealernet:<br>
            <input type="text" id="Consultor(a) Dealernet" placeholder="Consultor(a) Dealernet" oninput="this.value = this.value.toUpperCase()">
        </label>
    </div>
</div>

<script>
function formatarCNPJ(campo) {
    let cnpj = campo.value.replace(/\D/g, "");
    if (cnpj.length > 14) cnpj = cnpj.substring(0, 14);

    campo.value = cnpj.replace(
        /^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,
        "$1.$2.$3/$4-$5"
    );
}
</script>

<style>
.dados-cliente {
    display: flex;
    flex-direction: column;
    gap: 10px;
    font-family: Arial, sans-serif;
}

.dados-cliente .linha {
    display: flex;
    gap: 20px;
}

.dados-cliente label {
    display: flex;
    flex-direction: column;
    font-weight: bold;
}

.dados-cliente input {
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 4px;
    text-transform: uppercase; /* visualmente em maiúsculas */
}
</style>


        <div class="checklist">
            <!-- Gerado dinamicamente -->
            ${generateChecklistItems()}
        </div>

        <div class="button-group">
            <button onclick="marcarTodas('sim')">Marcar Todas Sim</button>
            <button onclick="marcarTodas('nao')">Marcar Todas Não</button>
            <button onclick="marcarTodas('naoSeAplica')">Marcar Todas Não se Aplica</button>
        </div>

        <div class="signature">
            <h3>Assinatura</h3>
            <canvas id="signatureCanvas"></canvas>
        </div>

        <div class="button-group">
            <button onclick="validarEImprimir()">Impressão Módulo Oficina</button>
            <br>
            <a href="file:///C:\checklist\checklist1.html">Voltar para o MENU</a>
        </div>
    </div>

    <script>
        const checklistItems = [
            "Cadastro de Pessoa",
            "Cadastro de Veículos",
            "Atendimento da Portaria",
            "Controle da Portaria",
            "Abertura de O.S.",
            "Abertura de O.S. Seguradora – Orçamento",
            "Cadastro de Serviços na O.S.",
            "Inclusão de Serviços de Terceiros",
            "Impressão de O.S.",
            "Autorização de Execução de Serviços",
            "Cancelamento de O.S.",
            "Cadastro e emissão de Orçamento",
            "Emissão de Pré-Nota de O.S.",
            "Encerrar O.S.",
            "Emissão de Nota Fiscal de O.S.",
            "Emissão de Nota Fiscal de O.S. - Com Franquia",
            "Emitir Boleto de Cobrança",
            "Cancelamento de Nota Fiscal de O.S.",
            "Marcação de Tempo",
            "Requisição de Peças",
            "Impressão da Requisição de Peças",
            "Autorizar requisição de compra",
            "Transferência de Tipo de OS",
            "NTI",
            "Cadastro e Consulta Agendamento",
            "Cadastro de Kits",
            "Cadastro e Abertura de RAC",
            "Cadastro de Campanha",
            "Cadastro de TMO",
            "Cadastro da política de desconto de peças e serviços da Oficina",
            "Pesquisa de Pós Vendas",
            "Consultar Ficha de Seguimento",
            "Importação de Arquivos Montadora",
            "Exportação de Arquivos Montadora",
            "Emissão da Etiqueta de Peças Garantia",
            "Emissão da NF de Transporte (Simples Remessa)",
            "Emissão de Nota Fiscal de O.S. de Garantia",
            "Cadastro de Tipos de O.S.",
            "Cadastro de % de Desconto de Serviços Seguradora",
            "Indicadores",
            "Integração com a Fábrica - Importações",
            "Integração com a Fábrica - Exportações",
            "Relatórios",
            "FLUXO - Acompanhamento do Tempo de Execução da O.S.",
            "FLUXO - Abertura de OS para Veículo - campanha",
            "FLUXO - Serviço de Garantia",
            "FLUXO - Portaria > Autorizar Saída",
            "FLUXO - Portaria > Cadastrar Veículo",
            "FLUXO - Portaria > Abrir OS",
            "FLUXO - Portaria > Justificar Atraso",
            "FLUXO - Autorização Encerramento do Tipo OS > Autorizar encerramento",
            "FLUXO - Autorização Encerramento do Tipo OS > Emitir nota fiscal",
            "FLUXO - Desvincular Notas Fiscais da O.S.",
            "FLUXO - Agendamento da Oficina > Confirmar",
            "FLUXO - Agendamento da Oficina > Resgatar",
            "FLUXO - Autorização de Transferência de Requisição",
            "FLUXO - Ordem de Serviço > Confirmar Entrega",
            "FLUXO - Autorização Desconto da OS",
            "FLUXO - Solicita Impressão Via Requisição",
            "FLUXO - Requisição da Oficina > Entregar Produto",
            "FLUXO - Orçamento da Oficina > Follow Up",
            "FLUXO - Autorização Transferência do Tipo de OS"
        ];

        function generateChecklistItems() {
            return checklistItems
                .map(item => `
                    <div class="checklist-item">
                        <p>${item}</p>
                        <label><input type="radio" name="${item}" value="sim"> Sim</label>
                        <label><input type="radio" name="${item}" value="nao"> Não</label>
                        <label><input type="radio" name="${item}" value="naoSeAplica"> Não se aplica</label>
                        <input type="text" class="observacao" placeholder="Observação">
                    </div>
                `)
                .join('');
        }

        function marcarTodas(valor) {
            checklistItems.forEach(item => {
                const radios = document.getElementsByName(item);
                radios.forEach(radio => {
                    radio.checked = radio.value === valor;
                });
            });
        }

        function validarEImprimir() {
            const allAnswered = checklistItems.every(item => {
                const radios = document.getElementsByName(item);
                return Array.from(radios).some(r => r.checked);
            });

            if (!allAnswered) {
                alert("Por favor, responda todas as perguntas antes de imprimir.");
                return;
            }

            window.print();
        }

        document.querySelector('.checklist').innerHTML = generateChecklistItems();
    </script>
</body>
</html>
